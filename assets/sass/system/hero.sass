@mixin background-without-margin
    margin-left: var(--grid-gutter-negative)
    margin-right: var(--grid-gutter-negative)
    padding-left: var(--grid-gutter)
    padding-right: var(--grid-gutter)

.hero
    .content
        .hero-text
            margin-top: 0
            @include media-breakpoint-up(desktop)
                width: calc(#{columns(7)} + var(--column-width))
            .has-lead > p
                margin-top: $spacing-4
            .btn
                @extend .button-accent
                margin-top: $spacing-4
        .page__home &
            @include media-breakpoint-up(desktop)
                align-items: stretch
                .hero-text,
                    align-items: flex-start
                    display: flex
                    flex-direction: column
                    height: auto
                    justify-content: space-between
                hgroup
                    flex: 1
                    h1 + p
                        margin-top: $spacing-6
        figure
            img
                aspect-ratio: 1
                object-fit: cover
            @include media-breakpoint-up(desktop)
                margin-right: var(--grid-gutter-negative)
                width: calc(#{columns(4)} + var(--column-width))
    // colors in hero and breadcrumb
    .ancestor-research &,
    .projects_categories__term &,
    .projects__page &,
    .projects__section &,
    .ancestor-formation &,
    .ancestor-eco-place &,
    .programs_categories__term &,
    .programs__section &
        border-bottom-width: 2px
        border-bottom-style: solid
        .breadcrumb-nav
            @include background-without-margin
            @include media-breakpoint-down(desktop)
                margin-bottom: $spacing-3
    .ancestor-research &,
    .projects_categories__term &,
    .projects__page &,
    .projects__section &
        border-color: $site-blue
        .breadcrumb-nav
            background: $site-blue
    .ancestor-formation &,
    .programs_categories__term &,
    .programs__section &
        border-color: $site-red
        .breadcrumb-nav
            background: $site-red
    .ancestor-eco-place &
        border-color: $site-green
        .breadcrumb-nav
            background: $site-green
    .page-research &,
    .page-eco-place &,
    .page-formation &
        .content
            @include background-without-margin
            figure
                margin-right: 0
            @include media-breakpoint-up(desktop)
                padding-bottom: space(20)
            @include media-breakpoint-down(desktop)
                padding-top: $spacing-3
    .content
        .page-research & 
            background: $site-blue
        .page-formation & 
            background: $site-red
        .page-eco-place & 
            background: $site-green
    @include media-breakpoint-up(desktop)
        .breadcrumb-nav + .content
            padding-top: space(20)
    @include media-breakpoint-down(desktop)
        .page__home &
            margin-bottom: 0
        // empêcher les images de se décaler hors du hero
        &--image-portrait,
        &--image-square
            margin-bottom: $spacing-5
            .page-research &,
            .page-eco-place &,
            .page-formation &
                figure
                    margin-bottom: 0